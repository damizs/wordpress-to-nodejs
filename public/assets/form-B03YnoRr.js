import{u as g,r as c,j as e,H as v,L as j}from"./app-C2waHLmT.js";import{A as y}from"./AdminLayout-CWdoV4_h.js";import{A as w}from"./arrow-left-BsrdpGna.js";import{U as V}from"./upload-KeRbbrGL.js";import{S as D}from"./save-87k4ukx2.js";import"./FlashMessages-B2yFiEwr.js";import"./x-B2pdQifU.js";import"./users-NbbF27Yh.js";import"./shield-ByfVxvoo.js";import"./chevron-right-45kjubqb.js";import"./user-Bi6LfA4V.js";function $({councilor:r,legislatures:f}){const a=!!r,{data:i,setData:o,post:t,put:E,processing:n}=g({name:(r==null?void 0:r.name)||"",slug:(r==null?void 0:r.slug)||"",party:(r==null?void 0:r.party)||"",email:(r==null?void 0:r.email)||"",phone:(r==null?void 0:r.phone)||"",bio:(r==null?void 0:r.bio)||"",role:(r==null?void 0:r.role)||"Vereador",is_active:(r==null?void 0:r.is_active)??!0,legislature_id:(r==null?void 0:r.legislature_id)||"",display_order:(r==null?void 0:r.display_order)||0,photo:null}),l=c.useRef(null),[d,p]=c.useState((r==null?void 0:r.photo_url)||null);function N(s){if(o("photo",s),s){const m=new FileReader;m.onload=x=>{var u;return p((u=x.target)==null?void 0:u.result)},m.readAsDataURL(s)}}function h(s){s.preventDefault(),a?t(`/painel/vereadores/${r.id}?_method=PUT`,{forceFormData:!0}):t("/painel/vereadores",{forceFormData:!0})}function b(s){return s.toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g,"").replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,"")}return e.jsxDEV(y,{title:a?"Editar Vereador":"Novo Vereador",children:[e.jsxDEV(v,{title:`${a?"Editar":"Novo"} Vereador - Painel`},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:54,columnNumber:7},this),e.jsxDEV(j,{href:"/painel/vereadores",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-gray-700 mb-4",children:[e.jsxDEV(w,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:57,columnNumber:9},this)," Voltar"]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:56,columnNumber:7},this),e.jsxDEV("form",{onSubmit:h,className:"max-w-3xl space-y-6",children:[e.jsxDEV("div",{className:"bg-white rounded-xl border border-gray-100 p-6 space-y-4",children:[e.jsxDEV("h2",{className:"font-semibold text-gray-800 mb-2",children:"Dados do Vereador"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:62,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Nome Completo *"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:66,columnNumber:15},this),e.jsxDEV("input",{type:"text",value:i.name,onChange:s=>{o("name",s.target.value),a||o("slug",b(s.target.value))},required:!0,className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:67,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:65,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Slug"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:73,columnNumber:15},this),e.jsxDEV("input",{type:"text",value:i.slug,onChange:s=>o("slug",s.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none font-mono"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:74,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:72,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Partido"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:78,columnNumber:15},this),e.jsxDEV("input",{type:"text",value:i.party,onChange:s=>o("party",s.target.value),placeholder:"Ex: PP, MDB, PSD",className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:79,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Cargo / Função"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:83,columnNumber:15},this),e.jsxDEV("select",{value:i.role,onChange:s=>o("role",s.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none",children:[e.jsxDEV("option",{value:"Presidente",children:"Presidente"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:86,columnNumber:17},this),e.jsxDEV("option",{value:"Vice-Presidente",children:"Vice-Presidente"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:87,columnNumber:17},this),e.jsxDEV("option",{value:"1º Secretário",children:"1º Secretário"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:88,columnNumber:17},this),e.jsxDEV("option",{value:"2º Secretário",children:"2º Secretário"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:89,columnNumber:17},this),e.jsxDEV("option",{value:"Vereador",children:"Vereador"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:90,columnNumber:17},this),e.jsxDEV("option",{value:"Vereadora",children:"Vereadora"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:91,columnNumber:17},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:84,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:82,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Email"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:95,columnNumber:15},this),e.jsxDEV("input",{type:"email",value:i.email,onChange:s=>o("email",s.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:96,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:94,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Telefone"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:100,columnNumber:15},this),e.jsxDEV("input",{type:"text",value:i.phone,onChange:s=>o("phone",s.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:101,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:99,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Legislatura"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:105,columnNumber:15},this),e.jsxDEV("select",{value:i.legislature_id,onChange:s=>o("legislature_id",s.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none",children:[e.jsxDEV("option",{value:"",children:"Selecione..."},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:108,columnNumber:17},this),f.map(s=>e.jsxDEV("option",{value:s.id,children:s.name},s.id,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:110,columnNumber:19},this))]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:106,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:104,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Ordem de exibição"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:115,columnNumber:15},this),e.jsxDEV("input",{type:"number",value:i.display_order,onChange:s=>o("display_order",parseInt(s.target.value)||0),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:116,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:114,columnNumber:13},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:64,columnNumber:11},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Biografia"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:122,columnNumber:13},this),e.jsxDEV("textarea",{value:i.bio,onChange:s=>o("bio",s.target.value),rows:4,className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none resize-none"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:123,columnNumber:13},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:121,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center gap-4",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Foto"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:129,columnNumber:15},this),e.jsxDEV("div",{onClick:()=>{var s;return(s=l.current)==null?void 0:s.click()},className:"flex items-center gap-3 px-3 py-3 border-2 border-dashed border-gray-200 rounded-lg cursor-pointer hover:border-navy/30 transition-colors w-48",children:[d?e.jsxDEV("img",{src:d,alt:"Foto",className:"w-12 h-12 object-cover rounded-lg"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:133,columnNumber:19},this):e.jsxDEV("div",{className:"w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsxDEV(V,{className:"w-5 h-5 text-gray-400"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:136,columnNumber:21},this)},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:135,columnNumber:19},this),e.jsxDEV("span",{className:"text-xs text-gray-500",children:"Selecionar"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:139,columnNumber:17},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:130,columnNumber:15},this),e.jsxDEV("input",{ref:l,type:"file",accept:"image/*",className:"hidden",onChange:s=>{var m;return N(((m=s.target.files)==null?void 0:m[0])||null)}},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:141,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:128,columnNumber:13},this),e.jsxDEV("div",{className:"flex items-center gap-2 mt-4",children:[e.jsxDEV("input",{type:"checkbox",id:"is_active",checked:i.is_active===!0||i.is_active==="true",onChange:s=>o("is_active",s.target.checked),className:"w-4 h-4 rounded border-gray-300 text-navy focus:ring-navy"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:146,columnNumber:15},this),e.jsxDEV("label",{htmlFor:"is_active",className:"text-sm text-gray-600",children:"Ativo (visível no site)"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:149,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:127,columnNumber:11},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:61,columnNumber:9},this),e.jsxDEV("div",{className:"flex justify-end",children:e.jsxDEV("button",{type:"submit",disabled:n,className:"flex items-center gap-2 px-6 py-3 bg-navy text-white rounded-xl hover:bg-navy-dark transition-colors disabled:opacity-50 font-medium",children:[e.jsxDEV(D,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:157,columnNumber:13},this),n?"Salvando...":a?"Atualizar":"Cadastrar"]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:155,columnNumber:11},this)},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:154,columnNumber:9},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:60,columnNumber:7},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/councilors/form.tsx",lineNumber:53,columnNumber:5},this)}export{$ as default};
