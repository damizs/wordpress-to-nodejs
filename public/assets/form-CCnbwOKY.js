import{u as w,r as p,j as e,H as v,L as f,a as N}from"./app-CyIHjMYN.js";import{A as j}from"./AdminLayout-BZQg86lr.js";import{A as y}from"./arrow-left-BINNXtOf.js";import{c as D,X as E}from"./x-DHAZlp0n.js";import{U as V,S as C}from"./upload-OZNAWPUR.js";import"./FlashMessages-l5hkU1wt.js";import"./chevron-right-3R6_yXQQ.js";import"./menu-C0WtceGK.js";import"./user-De936Ysx.js";/**
 * @license lucide-react v0.563.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],k=D("image",_);function q({news:a,categories:b}){var u;const i=!!a,{data:s,setData:t,processing:l}=w({title:(a==null?void 0:a.title)||"",excerpt:(a==null?void 0:a.excerpt)||"",content:(a==null?void 0:a.content)||"",status:(a==null?void 0:a.status)||"draft",category_id:((u=a==null?void 0:a.category_id)==null?void 0:u.toString())||"",cover_image:null}),[n,d]=p.useState((a==null?void 0:a.cover_image_url)||null),m=p.useRef(null);function h(r){if(t("cover_image",r),r){const o=new FileReader;o.onload=g=>{var c;return d((c=g.target)==null?void 0:c.result)},o.readAsDataURL(r)}}function x(r){r.preventDefault();const o=new FormData;o.append("title",s.title),o.append("excerpt",s.excerpt),o.append("content",s.content),o.append("status",s.status),o.append("category_id",s.category_id),s.cover_image&&o.append("cover_image",s.cover_image),i?(o.append("_method","PUT"),N.post(`/painel/noticias/${a.id}`,o,{forceFormData:!0})):N.post("/painel/noticias",o,{forceFormData:!0})}return e.jsxDEV(j,{title:i?"Editar Notícia":"Nova Notícia",children:[e.jsxDEV(v,{title:`${i?"Editar":"Nova"} Notícia - Painel`},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:73,columnNumber:7},this),e.jsxDEV("div",{className:"max-w-4xl",children:[e.jsxDEV(f,{href:"/painel/noticias",className:"inline-flex items-center gap-2 text-sm text-gray-500 hover:text-navy mb-6 transition-colors",children:[e.jsxDEV(y,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:81,columnNumber:11},this),"Voltar para listagem"]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:77,columnNumber:9},this),e.jsxDEV("form",{onSubmit:x,className:"space-y-6",children:[e.jsxDEV("div",{className:"bg-white rounded-xl border border-gray-100 p-5 space-y-5",children:[e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Título"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:90,columnNumber:15},this),e.jsxDEV("input",{type:"text",value:s.title,onChange:r=>t("title",r.target.value),className:"w-full px-4 py-3 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none transition-all",placeholder:"Título da notícia",required:!0},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:91,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:89,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Resumo"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:103,columnNumber:15},this),e.jsxDEV("textarea",{value:s.excerpt,onChange:r=>t("excerpt",r.target.value),rows:2,className:"w-full px-4 py-3 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none transition-all resize-none",placeholder:"Resumo curto da notícia (aparece na listagem)"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:104,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:102,columnNumber:13},this),e.jsxDEV("div",{children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Conteúdo"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:115,columnNumber:15},this),e.jsxDEV("textarea",{value:s.content,onChange:r=>t("content",r.target.value),rows:15,className:"w-full px-4 py-3 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 focus:border-navy outline-none transition-all font-mono",placeholder:"Conteúdo da notícia (HTML suportado)"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:116,columnNumber:15},this),e.jsxDEV("p",{className:"text-xs text-gray-400 mt-1",children:"Suporta HTML. Em breve: editor visual."},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:123,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:114,columnNumber:13},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:87,columnNumber:11},this),e.jsxDEV("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsxDEV("div",{className:"bg-white rounded-xl border border-gray-100 p-5",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Imagem de Capa"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:131,columnNumber:15},this),n?e.jsxDEV("div",{className:"relative rounded-lg overflow-hidden mb-3",children:[e.jsxDEV("img",{src:n,alt:"Preview",className:"w-full h-40 object-cover"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:134,columnNumber:19},this),e.jsxDEV("button",{type:"button",onClick:()=>{d(null),t("cover_image",null)},className:"absolute top-2 right-2 p-1 bg-black/50 rounded-full text-white hover:bg-black/70",children:e.jsxDEV(E,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:143,columnNumber:21},this)},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:135,columnNumber:19},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:133,columnNumber:17},this):e.jsxDEV("div",{onClick:()=>{var r;return(r=m.current)==null?void 0:r.click()},className:"flex flex-col items-center justify-center py-8 border-2 border-dashed border-gray-200 rounded-lg cursor-pointer hover:border-navy/30 transition-colors mb-3",children:[e.jsxDEV(k,{className:"w-8 h-8 text-gray-300 mb-2"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:151,columnNumber:19},this),e.jsxDEV("span",{className:"text-sm text-gray-400",children:"Clique para enviar"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:152,columnNumber:19},this),e.jsxDEV("span",{className:"text-xs text-gray-300 mt-1",children:"JPG, PNG ou WebP até 5MB"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:153,columnNumber:19},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:147,columnNumber:17},this),e.jsxDEV("input",{ref:m,type:"file",accept:"image/jpeg,image/png,image/webp",className:"hidden",onChange:r=>{var o;return h(((o=r.target.files)==null?void 0:o[0])||null)}},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:156,columnNumber:15},this),!n&&e.jsxDEV("button",{type:"button",onClick:()=>{var r;return(r=m.current)==null?void 0:r.click()},className:"w-full py-2 border border-gray-200 rounded-lg text-sm text-gray-600 hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[e.jsxDEV(V,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:169,columnNumber:19},this),"Selecionar imagem"]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:164,columnNumber:17},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:130,columnNumber:13},this),e.jsxDEV("div",{className:"space-y-5",children:[e.jsxDEV("div",{className:"bg-white rounded-xl border border-gray-100 p-5",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Status"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:178,columnNumber:17},this),e.jsxDEV("select",{value:s.status,onChange:r=>t("status",r.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 outline-none",children:[e.jsxDEV("option",{value:"draft",children:"Rascunho"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:184,columnNumber:19},this),e.jsxDEV("option",{value:"published",children:"Publicada"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:185,columnNumber:19},this),e.jsxDEV("option",{value:"archived",children:"Arquivada"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:186,columnNumber:19},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:179,columnNumber:17},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:177,columnNumber:15},this),e.jsxDEV("div",{className:"bg-white rounded-xl border border-gray-100 p-5",children:[e.jsxDEV("label",{className:"block text-sm font-medium text-gray-700 mb-1.5",children:"Categoria"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:191,columnNumber:17},this),e.jsxDEV("select",{value:s.category_id,onChange:r=>t("category_id",r.target.value),className:"w-full px-3 py-2.5 border border-gray-200 rounded-lg text-sm focus:ring-2 focus:ring-navy/20 outline-none",children:[e.jsxDEV("option",{value:"",children:"Sem categoria"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:197,columnNumber:19},this),b.map(r=>e.jsxDEV("option",{value:r.id,children:r.name},r.id,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:199,columnNumber:21},this))]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:192,columnNumber:17},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:190,columnNumber:15},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:176,columnNumber:13},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:128,columnNumber:11},this),e.jsxDEV("div",{className:"flex items-center justify-end gap-3 pt-2",children:[e.jsxDEV(f,{href:"/painel/noticias",className:"px-5 py-2.5 border border-gray-200 rounded-lg text-sm text-gray-600 hover:bg-gray-50 transition-colors",children:"Cancelar"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:208,columnNumber:13},this),e.jsxDEV("button",{type:"submit",disabled:l,className:"flex items-center gap-2 px-6 py-2.5 bg-navy text-white rounded-lg hover:bg-navy-dark transition-colors disabled:opacity-50 text-sm font-medium",children:[e.jsxDEV(C,{className:"w-4 h-4"},void 0,!1,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:219,columnNumber:15},this),l?"Salvando...":i?"Atualizar":"Criar Notícia"]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:214,columnNumber:13},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:207,columnNumber:11},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:85,columnNumber:9},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:75,columnNumber:7},this)]},void 0,!0,{fileName:"/home/claude/wordpress-to-nodejs/inertia/pages/admin/news/form.tsx",lineNumber:72,columnNumber:5},this)}export{q as default};
